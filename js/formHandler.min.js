$(function(){function t(t){var e="./includes/"+t.attr("id")+".php";return t.attr("template-path")&&(e=t.attr("template-path")+"/includes/"+t.attr("id")+".php"),e}$("input,textarea").jqBootstrapValidation({preventSubmit:!0,submitSuccess:function(e,s){if(!e.attr("action")){s.preventDefault();var i=t(e),a={};e.find("input, textarea, option:selected").each(function(t){var e=$(this).val(),s=$(this).attr("id");$(this).is(":checkbox")?e=$(this).is(":checked"):$(this).is(":radio")?e=$(this).val()+" = "+$(this).is(":checked"):$(this).is("option:selected")&&(s=$(this).parent().attr("id")),a[s]=e}),$.ajax({url:i,type:"POST",data:a,cache:!1,success:function(){e.is("[success-msg]")?e.append("<div id='form-alert'><div class='alert alert-success'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>Votre message a été envoyé.</strong></div></div>"):window.location.replace(e.attr("success-url")),e.trigger("reset")},error:function(){0==$("#form-alert").length&&e.append("<div id='form-alert'><div class='alert alert-danger'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>Désolé, il semble que notre serveur de messagerie ne réponde pas, désolé pour le désagrément !</strong></div></div>")}})}},filter:function(){return $(this).is(":visible")}})});